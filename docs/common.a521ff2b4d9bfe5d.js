"use strict";(self.webpackChunkendless=self.webpackChunkendless||[]).push([[76],{1396:(v,u,n)=>{n.d(u,{$:()=>s});var a=n(9084);class s{setLoading(h){a.s.setLoading(h)}calcContainerHeight(h,l,g){let i=document.getElementById(h),t=document.getElementById(l),o=document.getElementById(g);return i.offsetHeight-t.offsetHeight-o.offsetHeight+"px"}}},8471:(v,u,n)=>{n.d(u,{b:()=>a});var a=function(s){return s[s.swipe_x5=0]="swipe_x5",s[s.energy_refill=1]="energy_refill",s[s.earn_per_swipe=2]="earn_per_swipe",s[s.recharging_speed=3]="recharging_speed",s[s.energy_capacity=4]="energy_capacity",s[s.autoswipe=5]="autoswipe",s}(a||{})},7554:(v,u,n)=>{n.d(u,{G:()=>i});var a=n(467),s=n(9589),f=n(4438),h=n(1626),l=n(418);const g=s.cA.apiUrl;let i=(()=>{class t{constructor(r,e){this.http=r,this.notifier=e,this.accessToken=""}get initData(){return"query_id=AAH4VnQcAAAAAPhWdBwIlUAv&user=%7B%22id%22%3A477386488%2C%22first_name%22%3A%22%D0%A0%D0%BE%D0%B4%D0%B8%D0%BE%D0%BD%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22Karrikatura%22%2C%22language_code%22%3A%22ru%22%2C%22allows_write_to_pm%22%3Atrue%7D&auth_date=1719814197&hash=5e738d1a10edddc4997328ede9238bb306e5b51264592518019c3803445c17fa"}getAccessToken(){var r=this;return(0,a.A)(function*(){let e=r;return!e.expired_at||e.expired_at<=new Date?e.http.request("POST",g+"auth/telegram",{body:{initData:e.initData},headers:{"Content-Type":"application/json"}}).toPromise().then(c=>{let p=new Date;return p.setSeconds(p.getSeconds()+c.data.expiresIn),e.expired_at=p,e.accessToken=c.data.accessToken,e.accessToken}).catch(c=>(e.notifier.notify("error",c),e.accessToken)):e.accessToken})()}getAnonym(r){return this.http.get(g+r).toPromise()}get(r){return this.getAuthorizationHeaders().then(e=>this.http.get(g+r,{headers:e}).toPromise())}postAnonym(r,e){return this.http.post(g+r,e,{headers:this.getPublicHeaders()}).toPromise()}post(r,e){return this.getAuthorizationHeaders().then(c=>this.http.post(g+r,e,{headers:c}).toPromise())}getPublicHeaders(){return{"Content-Type":"application/json"}}getAuthorizationHeaders(){var r=this;return(0,a.A)(function*(){return{Authorization:`Bearer ${yield r.getAccessToken()}`,"Content-Type":"application/json"}})()}static#e=this.\u0275fac=function(e){return new(e||t)(f.KVO(h.Qq),f.KVO(l.iJ))};static#t=this.\u0275prov=f.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},3554:(v,u,n)=>{n.d(u,{Y:()=>h});var a=n(8471),s=n(4438),f=n(7554);let h=(()=>{class l{constructor(i){this.api=i,this.boosts=[{type:a.b.swipe_x5,price:0,isApplied:!1,isAvailable:!1,level:5,isPermanent:!1,icon:"assets/boost-icons/X5-boost.svg",text:"Swipe Multiplier",subText:"For each swipe you get X5"},{type:a.b.energy_refill,price:0,isApplied:!1,isAvailable:!1,level:1,isPermanent:!1,icon:"assets/boost-icons/energy-refill-boost.svg",text:"Energy Refill",subText:"Full energy charge"},{type:a.b.earn_per_swipe,price:100,isApplied:!1,isAvailable:!1,level:0,isPermanent:!0,icon:"assets/boost-icons/recharging-boost.svg",text:"Earn per swipe",subText:"Increases the energy recharge"},{type:a.b.recharging_speed,price:150,isApplied:!1,isAvailable:!1,level:0,isPermanent:!0,icon:"assets/boost-icons/recharging-boost.svg",text:"Recharging Speed",subText:"Increases the energy recharge"},{type:a.b.energy_capacity,price:200,isApplied:!1,isAvailable:!1,level:0,isPermanent:!0,icon:"assets/boost-icons/energy-capacity-boost.svg",text:"Energy Bar Capacity",subText:"Greater energy reserve"},{type:a.b.autoswipe,price:1500,isApplied:!1,isAvailable:!1,level:1,isPermanent:!1,icon:"assets/boost-icons/autoswipe-boost.svg",text:"Auto swipe",subText:"Auto-swipe for 4 hours"}],this.upgrades=[],this.userBoosts=[]}get boostsList(){return this.boosts}mapBoosts(){let i=this;i.userBoosts.map(t=>{let o=i.boosts.find(r=>r.type===a.b[t.id]);o.price=t.price,o.isAvailable=t.isAvailable,o.isApplied=t.maxAttempts>t.attempts&&(!o.isAvailable||!!t.coolDown)}),i.upgrades.map(t=>{let o=i.boosts.find(r=>r.type===a.b[t.id]);o.price=t.price,o.isAvailable=t.isAvailable,o.level=t.level,o.isApplied=0==t.price})}initBoostsService(){let i=this;return Promise.all([i.getBoostList().then(t=>{i.userBoosts=t.data}),i.getUpgradesList().then(t=>{i.upgrades=t.data})]).finally(()=>{i.mapBoosts()})}getBoostList(){return this.api.get("boosts")}getUpgradesList(){return this.api.get("upgrades")}applyBoost(i){return this.api.post("boosts",{id:i})}applyUpgrades(i){return this.api.post("upgrades",{id:i})}buyBoost(i){let t=this,o=t.boostsList.find(r=>r.type===i);return o.isPermanent?t.applyUpgrades(a.b[o.type]).then(r=>(t.upgrades=r.data,t.mapBoosts(),r)):t.applyBoost(a.b[o.type]).then(r=>(t.userBoosts=r.data,t.mapBoosts(),r))}static#e=this.\u0275fac=function(t){return new(t||l)(s.KVO(f.G))};static#t=this.\u0275prov=s.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},3616:(v,u,n)=>{n.d(u,{o:()=>h});var a=n(4438),s=n(7554);let h=(()=>{class l{constructor(i){this.api=i,this.totalUserScore=0,this.scoreIncrementer=1,this.swipeBatch=0}get totalScore(){return this.totalUserScore}getScore(){return this.api.get("swipes")}initScoreService(){let i=this;return i.getScore().then(t=>{i.totalUserScore=t.data.balance,i.scoreIncrementer=t.data.earnPerSwipe,i.scoreIncrementer*=t.data.swipeXmultiplier>0?t.data.swipeXmultiplier:1})}setIncrementer(i){this.scoreIncrementer=i}decrementScore(i){this.totalUserScore-=i}incrementScore(i){let t=this;t.totalUserScore+=t.scoreIncrementer,t.swipeBatch+=t.scoreIncrementer,t.swipeBatch>=10*t.scoreIncrementer&&t.saveSwipeBatch(i)}saveSwipeBatch(i){let t=this;t.swipeBatch>0&&t.api.post("swipes",{timestamp:(new Date).getTime(),count:t.swipeBatch,availableEnergy:i}),t.swipeBatch=0}static#e=this.\u0275fac=function(t){return new(t||l)(a.KVO(s.G))};static#t=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},9692:(v,u,n)=>{n.d(u,{WW:()=>l});var a=n(177),s=n(4438);const f=new s.nKC("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var h=n(1413);let l=(()=>{class o{constructor(e,c,p){this.ngZone=e,this.document=c,this.window=p,this.copySubject=new h.B,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});const c=this.copyFromContent(e);return this.pushCopyResponse(c?{content:e,isSuccess:c}:{isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,c=!0){try{this.selectTarget(e);const p=this.copyText();return this.clearSelection(c?e:void 0,this.window),p&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){const e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,c=this.document.body){if(this.tempTextArea&&!c.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{c.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;const p=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),p}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,c){e&&e.focus(),c.getSelection()?.removeAllRanges()}createTempTextArea(e,c){const p="rtl"===e.documentElement.getAttribute("dir");let d;return d=e.createElement("textarea"),d.style.fontSize="12pt",d.style.border="0",d.style.padding="0",d.style.margin="0",d.style.position="absolute",d.style[p?"right":"left"]="-9999px",d.style.top=(c.pageYOffset||e.documentElement.scrollTop)+"px",d.setAttribute("readonly",""),d}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return o.\u0275fac=function(e){return new(e||o)(s.KVO(s.SKi),s.KVO(a.qQ),s.KVO(f,8))},o.\u0275prov=s.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);